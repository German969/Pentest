<?php

$Fichero = "log.txt"; //nombre del fichero donde guardamos los informes 

$ip = $_SERVER["REMOTE_ADDR"]; //guarda en la variable el ip 

$fecha = date("Y-m-d;h:i:s"); //fecha y hora (por lo general del servidor) 
$sistema = 
$_SERVER['HTTP_USER_AGENT']; //esto nos genera varios datos del navegador y del sistema operativo 

$conproxy = $_SERVER["HTTP_X_FORWARDED_FOR"]; //en caso de usar proxy para esconderse aqui estaria el ip real 

$log = "FECHA: $fecha SISTEMA: $sistema IP: $ip IPPROXY: $conproxyn"; 

$fp = fopen($Fichero, "r+"); 

fwrite($fp, "$log\r\n"); 

fclose($fp); 

?> 